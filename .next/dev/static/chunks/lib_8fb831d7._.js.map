{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chairbord/Desktop/code/create-quotation-flow/lib/dummy-data.ts"],"sourcesContent":["import type { Dealer, Visitor } from \"./auth-context\"\nimport type { Quotation, Customer, ProductSelection } from \"./quotation-context\"\n\n// Dummy Dealers (for login testing)\nexport const dummyDealers: (Dealer & { password: string })[] = [\n  {\n    id: \"dealer-001\",\n    username: \"demo\",\n    password: \"demo123\",\n    firstName: \"Rajesh\",\n    lastName: \"Kumar\",\n    mobile: \"9876543210\",\n    email: \"rajesh.kumar@solardealer.com\",\n    gender: \"Male\",\n    dateOfBirth: \"1985-06-15\",\n    fatherName: \"Suresh Kumar\",\n    fatherContact: \"9876543211\",\n    governmentIdType: \"Aadhaar Card\",\n    governmentIdNumber: \"1234-5678-9012\",\n    address: {\n      street: \"123, Solar Complex, MG Road\",\n      city: \"Ahmedabad\",\n      state: \"Gujarat\",\n      pincode: \"380001\",\n    },\n  },\n  {\n    id: \"dealer-002\",\n    username: \"admin\",\n    password: \"admin123\",\n    firstName: \"Priya\",\n    lastName: \"Sharma\",\n    mobile: \"9988776655\",\n    email: \"priya.sharma@greenenergy.com\",\n    gender: \"Female\",\n    dateOfBirth: \"1990-03-22\",\n    fatherName: \"Ramesh Sharma\",\n    fatherContact: \"9988776656\",\n    governmentIdType: \"PAN Card\",\n    governmentIdNumber: \"ABCDE1234F\",\n    address: {\n      street: \"456, Green Tower, Ring Road\",\n      city: \"Jaipur\",\n      state: \"Rajasthan\",\n      pincode: \"302001\",\n    },\n  },\n  {\n    id: \"dealer-003\",\n    username: \"testuser\",\n    password: \"test123\",\n    firstName: \"Amit\",\n    lastName: \"Patel\",\n    mobile: \"8765432109\",\n    email: \"amit.patel@sunpower.in\",\n    gender: \"Male\",\n    dateOfBirth: \"1988-11-08\",\n    fatherName: \"Mahesh Patel\",\n    fatherContact: \"8765432110\",\n    governmentIdType: \"Voter ID\",\n    governmentIdNumber: \"GJ/01/123/456789\",\n    address: {\n      street: \"789, Industrial Area, Phase 2\",\n      city: \"Surat\",\n      state: \"Gujarat\",\n      pincode: \"395003\",\n    },\n  },\n]\n\n// Dummy Customers\nexport const dummyCustomers: Customer[] = [\n  {\n    firstName: \"Vikram\",\n    lastName: \"Singh\",\n    mobile: \"9123456780\",\n    email: \"vikram.singh@gmail.com\",\n    address: {\n      street: \"12, Lakshmi Nagar\",\n      city: \"Mumbai\",\n      state: \"Maharashtra\",\n      pincode: \"400001\",\n    },\n  },\n  {\n    firstName: \"Anita\",\n    lastName: \"Desai\",\n    mobile: \"9234567891\",\n    email: \"anita.desai@yahoo.com\",\n    address: {\n      street: \"45, Green Park Colony\",\n      city: \"Pune\",\n      state: \"Maharashtra\",\n      pincode: \"411001\",\n    },\n  },\n  {\n    firstName: \"Mohan\",\n    lastName: \"Reddy\",\n    mobile: \"9345678902\",\n    email: \"mohan.reddy@outlook.com\",\n    address: {\n      street: \"78, Jubilee Hills\",\n      city: \"Hyderabad\",\n      state: \"Telangana\",\n      pincode: \"500033\",\n    },\n  },\n  {\n    firstName: \"Sunita\",\n    lastName: \"Verma\",\n    mobile: \"9456789013\",\n    email: \"sunita.verma@gmail.com\",\n    address: {\n      street: \"23, Civil Lines\",\n      city: \"Jaipur\",\n      state: \"Rajasthan\",\n      pincode: \"302006\",\n    },\n  },\n  {\n    firstName: \"Karthik\",\n    lastName: \"Nair\",\n    mobile: \"9567890124\",\n    email: \"karthik.nair@gmail.com\",\n    address: {\n      street: \"56, Marine Drive\",\n      city: \"Kochi\",\n      state: \"Kerala\",\n      pincode: \"682001\",\n    },\n  },\n  {\n    firstName: \"Deepak\",\n    lastName: \"Gupta\",\n    mobile: \"9678901235\",\n    email: \"deepak.gupta@company.com\",\n    address: {\n      street: \"89, Sector 15\",\n      city: \"Gurugram\",\n      state: \"Haryana\",\n      pincode: \"122001\",\n    },\n  },\n  {\n    firstName: \"Lakshmi\",\n    lastName: \"Iyer\",\n    mobile: \"9789012346\",\n    email: \"lakshmi.iyer@email.com\",\n    address: {\n      street: \"34, Anna Nagar\",\n      city: \"Chennai\",\n      state: \"Tamil Nadu\",\n      pincode: \"600040\",\n    },\n  },\n  {\n    firstName: \"Rahul\",\n    lastName: \"Joshi\",\n    mobile: \"9890123457\",\n    email: \"rahul.joshi@mail.com\",\n    address: {\n      street: \"67, Model Town\",\n      city: \"Lucknow\",\n      state: \"Uttar Pradesh\",\n      pincode: \"226001\",\n    },\n  },\n]\n\n// Dummy Product Selections\nconst dummyProducts: ProductSelection[] = [\n  {\n    systemType: \"dcr\",\n    panelBrand: \"Adani\",\n    panelSize: \"545W\",\n    panelQuantity: 10,\n    inverterType: \"String Inverter\",\n    inverterBrand: \"Growatt\",\n    inverterSize: \"5kW\",\n    structureType: \"GI Structure\",\n    structureSize: \"5kW\",\n    meterBrand: \"L&T\",\n    acCableBrand: \"Polycab\",\n    acCableSize: \"6 sq mm\",\n    dcCableBrand: \"Havells\",\n    dcCableSize: \"4 sq mm\",\n    acdb: \"2-String\",\n    dcdb: \"2-String\",\n    centralSubsidy: 78000,\n    stateSubsidy: 10000,\n  },\n  {\n    systemType: \"non-dcr\",\n    panelBrand: \"Tata\",\n    panelSize: \"550W\",\n    panelQuantity: 8,\n    inverterType: \"String Inverter\",\n    inverterBrand: \"Solis\",\n    inverterSize: \"3kW\",\n    structureType: \"Aluminum Structure\",\n    structureSize: \"3kW\",\n    meterBrand: \"Havells\",\n    acCableBrand: \"KEI\",\n    acCableSize: \"4 sq mm\",\n    dcCableBrand: \"Polycab\",\n    dcCableSize: \"4 sq mm\",\n    acdb: \"1-String\",\n    dcdb: \"2-String\",\n  },\n  {\n    systemType: \"hybrid\",\n    panelBrand: \"Waaree\",\n    panelSize: \"540W\",\n    panelQuantity: 12,\n    inverterType: \"Hybrid Inverter\",\n    inverterBrand: \"Growatt\",\n    inverterSize: \"6kW\",\n    structureType: \"GI Structure\",\n    structureSize: \"5kW\",\n    meterBrand: \"Genus\",\n    acCableBrand: \"Polycab\",\n    acCableSize: \"10 sq mm\",\n    dcCableBrand: \"Havells\",\n    dcCableSize: \"6 sq mm\",\n    acdb: \"2-String\",\n    dcdb: \"3-String\",\n    hybridInverter: \"Growatt SPH 6000\",\n    batteryCapacity: \"10kWh\",\n    batteryPrice: 85000,\n  },\n  {\n    systemType: \"dcr\",\n    panelBrand: \"Vikram Solar\",\n    panelSize: \"555W\",\n    panelQuantity: 20,\n    inverterType: \"String Inverter\",\n    inverterBrand: \"Fronius\",\n    inverterSize: \"10kW\",\n    structureType: \"MS Structure\",\n    structureSize: \"10kW\",\n    meterBrand: \"L&T\",\n    acCableBrand: \"Finolex\",\n    acCableSize: \"16 sq mm\",\n    dcCableBrand: \"KEI\",\n    dcCableSize: \"10 sq mm\",\n    acdb: \"3-String\",\n    dcdb: \"4-String\",\n    centralSubsidy: 78000,\n    stateSubsidy: 15000,\n  },\n  {\n    systemType: \"both\",\n    panelBrand: \"Adani\",\n    panelSize: \"545W\",\n    panelQuantity: 15,\n    inverterType: \"String Inverter\",\n    inverterBrand: \"Delta\",\n    inverterSize: \"8kW\",\n    structureType: \"Aluminum Structure\",\n    structureSize: \"10kW\",\n    meterBrand: \"HPL\",\n    acCableBrand: \"RR Kabel\",\n    acCableSize: \"10 sq mm\",\n    dcCableBrand: \"Polycab\",\n    dcCableSize: \"6 sq mm\",\n    acdb: \"2-String\",\n    dcdb: \"3-String\",\n  },\n]\n\n// Generate dummy quotations\nexport function generateDummyQuotations(): Quotation[] {\n  const quotations: Quotation[] = []\n  const now = new Date()\n\n  // Generate quotations for each dealer\n  dummyDealers.forEach((dealer, dealerIndex) => {\n    // Assign 2-4 quotations per dealer\n    const numQuotations = 2 + (dealerIndex % 3)\n\n    for (let i = 0; i < numQuotations; i++) {\n      const customerIndex = (dealerIndex * 3 + i) % dummyCustomers.length\n      const productIndex = (dealerIndex + i) % dummyProducts.length\n\n      // Generate dates spread across current and previous month\n      const daysAgo = Math.floor(Math.random() * 45)\n      const quotationDate = new Date(now)\n      quotationDate.setDate(quotationDate.getDate() - daysAgo)\n\n      const products = dummyProducts[productIndex]\n      const panelPrice = Number.parseInt(products.panelSize) * products.panelQuantity * 25\n      const inverterPrice = Number.parseInt(products.inverterSize) * 8000\n      const structurePrice = Number.parseInt(products.structureSize) * 5000\n      const cablePrice = 15000\n      const meterPrice = 8000\n      const acdbDcdbPrice = 12000\n\n      let totalAmount = panelPrice + inverterPrice + structurePrice + cablePrice + meterPrice + acdbDcdbPrice\n\n      if (products.batteryPrice) {\n        totalAmount += products.batteryPrice\n      }\n\n      const discount = [5, 8, 10, 12, 15][Math.floor(Math.random() * 5)]\n      const finalAmount = totalAmount - (totalAmount * discount) / 100\n\n      quotations.push({\n        id: `QT-${1000 + quotations.length}`,\n        customer: dummyCustomers[customerIndex],\n        products: products,\n        discount,\n        totalAmount,\n        finalAmount,\n        createdAt: quotationDate.toISOString(),\n        dealerId: dealer.id,\n        status: ([\"pending\", \"approved\", \"rejected\", \"completed\"][Math.floor(Math.random() * 4)] as \"pending\" | \"approved\" | \"rejected\" | \"completed\"),\n      })\n    }\n  })\n\n  return quotations\n}\n\n// Function to seed localStorage with dummy data\nexport function seedDummyData() {\n  // Always ensure visitors exist (they might be deleted or missing)\n  const existingVisitors = JSON.parse(localStorage.getItem(\"visitors\") || \"[]\")\n  if (existingVisitors.length === 0) {\n    localStorage.setItem(\"visitors\", JSON.stringify(dummyVisitors))\n  } else {\n    // Merge with dummy visitors to ensure all dummy visitors exist\n    const mergedVisitors = [...existingVisitors]\n    dummyVisitors.forEach((dummyVisitor) => {\n      const exists = mergedVisitors.find((v: Visitor) => v.id === dummyVisitor.id || v.username === dummyVisitor.username)\n      if (!exists) {\n        mergedVisitors.push(dummyVisitor)\n      } else {\n        // Update existing visitor to ensure password is correct\n        const index = mergedVisitors.findIndex((v: Visitor) => v.id === dummyVisitor.id || v.username === dummyVisitor.username)\n        if (index !== -1) {\n          mergedVisitors[index] = { ...mergedVisitors[index], password: dummyVisitor.password }\n        }\n      }\n    })\n    localStorage.setItem(\"visitors\", JSON.stringify(mergedVisitors))\n  }\n\n  // Check if data already seeded\n  const isSeeded = localStorage.getItem(\"dummyDataSeeded\")\n\n  if (!isSeeded) {\n    // Seed dealers\n    const existingDealers = JSON.parse(localStorage.getItem(\"dealers\") || \"[]\")\n    if (existingDealers.length === 0) {\n      localStorage.setItem(\"dealers\", JSON.stringify(dummyDealers))\n    }\n\n    // Seed quotations\n    const existingQuotations = JSON.parse(localStorage.getItem(\"quotations\") || \"[]\")\n    if (existingQuotations.length === 0) {\n      const dummyQuotations = generateDummyQuotations()\n      localStorage.setItem(\"quotations\", JSON.stringify(dummyQuotations))\n    }\n\n    localStorage.setItem(\"dummyDataSeeded\", \"true\")\n  }\n}\n\n// Dummy Visitors\nexport const dummyVisitors: Visitor[] = [\n  {\n    id: \"visitor-001\",\n    username: \"visitor1\",\n    password: \"visitor123\",\n    firstName: \"Rahul\",\n    lastName: \"Singh\",\n    mobile: \"9876543210\",\n    email: \"rahul.singh@example.com\",\n  },\n  {\n    id: \"visitor-002\",\n    username: \"visitor2\",\n    password: \"visitor123\",\n    firstName: \"Sneha\",\n    lastName: \"Verma\",\n    mobile: \"9876543211\",\n    email: \"sneha.verma@example.com\",\n  },\n  {\n    id: \"visitor-003\",\n    username: \"visitor3\",\n    password: \"visitor123\",\n    firstName: \"Vikram\",\n    lastName: \"Yadav\",\n    mobile: \"9876543212\",\n    email: \"vikram.yadav@example.com\",\n  },\n]\n\n// Login credentials info for display\nexport const loginCredentials = [\n  { username: \"demo\", password: \"demo123\", name: \"Rajesh Kumar (Dealer)\" },\n  { username: \"admin\", password: \"admin123\", name: \"Priya Sharma (Admin)\" },\n  { username: \"testuser\", password: \"test123\", name: \"Amit Patel (Dealer)\" },\n  { username: \"visitor1\", password: \"visitor123\", name: \"Rahul Singh (Visitor)\" },\n  { username: \"visitor2\", password: \"visitor123\", name: \"Sneha Verma (Visitor)\" },\n  { username: \"visitor3\", password: \"visitor123\", name: \"Vikram Yadav (Visitor)\" },\n]\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["file:///Users/chairbord/Desktop/code/create-quotation-flow/lib/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport { seedDummyData } from \"./dummy-data\"\n\nexport interface Dealer {\n  id: string\n  username: string\n  firstName: string\n  lastName: string\n  mobile: string\n  email: string\n  gender: string\n  dateOfBirth: string\n  fatherName: string\n  fatherContact: string\n  governmentIdType: string\n  governmentIdNumber: string\n  address: {\n    street: string\n    city: string\n    state: string\n    pincode: string\n  }\n}\n\nexport interface Visitor {\n  id: string\n  username: string\n  password: string\n  firstName: string\n  lastName: string\n  mobile: string\n  email: string\n}\n\nexport type UserRole = \"dealer\" | \"visitor\" | \"admin\"\n\ninterface AuthContextType {\n  dealer: Dealer | null\n  visitor: Visitor | null\n  role: UserRole | null\n  isAuthenticated: boolean\n  login: (username: string, password: string) => Promise<boolean>\n  logout: () => void\n  register: (dealerData: Dealer & { password: string }) => Promise<boolean>\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [dealer, setDealer] = useState<Dealer | null>(null)\n  const [visitor, setVisitor] = useState<Visitor | null>(null)\n  const [role, setRole] = useState<UserRole | null>(null)\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n\n  useEffect(() => {\n    seedDummyData()\n\n    // Check for existing session\n    const savedDealer = localStorage.getItem(\"dealer\")\n    const savedVisitor = localStorage.getItem(\"visitor\")\n    const savedRole = localStorage.getItem(\"userRole\") as UserRole | null\n\n    if (savedDealer) {\n      setDealer(JSON.parse(savedDealer))\n      setRole(savedRole || \"dealer\")\n      setIsAuthenticated(true)\n    } else if (savedVisitor) {\n      setVisitor(JSON.parse(savedVisitor))\n      setRole(\"visitor\")\n      setIsAuthenticated(true)\n    }\n  }, [])\n\n  const login = async (username: string, password: string): Promise<boolean> => {\n    // Check dealers first\n    const dealers = JSON.parse(localStorage.getItem(\"dealers\") || \"[]\")\n    const foundDealer = dealers.find((d: Dealer & { password: string }) => d.username === username && d.password === password)\n\n    if (foundDealer) {\n      const { password: _, ...dealerData } = foundDealer\n      setDealer(dealerData)\n      setVisitor(null)\n      const userRole: UserRole = username === \"admin\" ? \"admin\" : \"dealer\"\n      setRole(userRole)\n      setIsAuthenticated(true)\n      localStorage.setItem(\"dealer\", JSON.stringify(dealerData))\n      localStorage.setItem(\"userRole\", userRole)\n      localStorage.removeItem(\"visitor\")\n      return true\n    }\n\n    // Check visitors\n    const visitors = JSON.parse(localStorage.getItem(\"visitors\") || \"[]\")\n    const foundVisitor = visitors.find((v: Visitor & { password?: string }) => {\n      return v.username === username && v.password === password\n    })\n\n    if (foundVisitor) {\n      const { password: _, ...visitorData } = foundVisitor\n      setVisitor(visitorData as Visitor)\n      setDealer(null)\n      setRole(\"visitor\")\n      setIsAuthenticated(true)\n      localStorage.setItem(\"visitor\", JSON.stringify(visitorData))\n      localStorage.setItem(\"userRole\", \"visitor\")\n      localStorage.removeItem(\"dealer\")\n      return true\n    }\n\n    return false\n  }\n\n  const logout = () => {\n    setDealer(null)\n    setVisitor(null)\n    setRole(null)\n    setIsAuthenticated(false)\n    localStorage.removeItem(\"dealer\")\n    localStorage.removeItem(\"visitor\")\n    localStorage.removeItem(\"userRole\")\n  }\n\n  const register = async (dealerData: Dealer & { password: string }): Promise<boolean> => {\n    const dealers = JSON.parse(localStorage.getItem(\"dealers\") || \"[]\")\n    const exists = dealers.find((d: Dealer) => d.username === dealerData.username || d.email === dealerData.email)\n\n    if (exists) {\n      return false\n    }\n\n    dealers.push(dealerData)\n    localStorage.setItem(\"dealers\", JSON.stringify(dealers))\n    return true\n  }\n\n  return (\n    <AuthContext.Provider value={{ dealer, visitor, role, isAuthenticated, login, logout, register }}>{children}</AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAgDA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAkB;IAClD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IAEvD,IAAA,0KAAS;kCAAC;YACR,IAAA,wIAAa;YAEb,6BAA6B;YAC7B,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,MAAM,YAAY,aAAa,OAAO,CAAC;YAEvC,IAAI,aAAa;gBACf,UAAU,KAAK,KAAK,CAAC;gBACrB,QAAQ,aAAa;gBACrB,mBAAmB;YACrB,OAAO,IAAI,cAAc;gBACvB,WAAW,KAAK,KAAK,CAAC;gBACtB,QAAQ;gBACR,mBAAmB;YACrB;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAkB;QACrC,sBAAsB;QACtB,MAAM,UAAU,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,cAAc;QAC9D,MAAM,cAAc,QAAQ,IAAI,CAAC,CAAC,IAAqC,EAAE,QAAQ,KAAK,YAAY,EAAE,QAAQ,KAAK;QAEjH,IAAI,aAAa;YACf,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,YAAY,GAAG;YACvC,UAAU;YACV,WAAW;YACX,MAAM,WAAqB,aAAa,UAAU,UAAU;YAC5D,QAAQ;YACR,mBAAmB;YACnB,aAAa,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC;YAC9C,aAAa,OAAO,CAAC,YAAY;YACjC,aAAa,UAAU,CAAC;YACxB,OAAO;QACT;QAEA,iBAAiB;QACjB,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe;QAChE,MAAM,eAAe,SAAS,IAAI,CAAC,CAAC;YAClC,OAAO,EAAE,QAAQ,KAAK,YAAY,EAAE,QAAQ,KAAK;QACnD;QAEA,IAAI,cAAc;YAChB,MAAM,EAAE,UAAU,CAAC,EAAE,GAAG,aAAa,GAAG;YACxC,WAAW;YACX,UAAU;YACV,QAAQ;YACR,mBAAmB;YACnB,aAAa,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC;YAC/C,aAAa,OAAO,CAAC,YAAY;YACjC,aAAa,UAAU,CAAC;YACxB,OAAO;QACT;QAEA,OAAO;IACT;IAEA,MAAM,SAAS;QACb,UAAU;QACV,WAAW;QACX,QAAQ;QACR,mBAAmB;QACnB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,WAAW,OAAO;QACtB,MAAM,UAAU,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,cAAc;QAC9D,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAc,EAAE,QAAQ,KAAK,WAAW,QAAQ,IAAI,EAAE,KAAK,KAAK,WAAW,KAAK;QAE7G,IAAI,QAAQ;YACV,OAAO;QACT;QAEA,QAAQ,IAAI,CAAC;QACb,aAAa,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC;QAC/C,OAAO;IACT;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAQ;YAAS;YAAM;YAAiB;YAAO;YAAQ;QAAS;kBAAI;;;;;;AAEvG;GA1FgB;KAAA;AA4FT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":["file:///Users/chairbord/Desktop/code/create-quotation-flow/lib/quotation-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\n\nexport interface Customer {\n  firstName: string\n  lastName: string\n  mobile: string\n  email: string\n  address: {\n    street: string\n    city: string\n    state: string\n    pincode: string\n  }\n}\n\nexport interface ProductSelection {\n  systemType: string\n  panelBrand: string\n  panelSize: string\n  panelQuantity: number\n  inverterType: string\n  inverterBrand: string\n  inverterSize: string\n  structureType: string\n  structureSize: string\n  meterBrand: string\n  acCableBrand: string\n  acCableSize: string\n  dcCableBrand: string\n  dcCableSize: string\n  acdb: string\n  dcdb: string\n  // DCR specific\n  centralSubsidy?: number\n  stateSubsidy?: number\n  // Hybrid specific\n  hybridInverter?: string\n  batteryCapacity?: string\n  batteryPrice?: number\n  // Customize\n  customPanels?: Array<{ brand: string; size: string; quantity: number; type: string }>\n  dcrPanelBrand?: string\n  dcrPanelSize?: string\n  dcrPanelQuantity?: number\n  nonDcrPanelBrand?: string\n  nonDcrPanelSize?: string\n  nonDcrPanelQuantity?: number\n}\n\nexport type QuotationStatus = \"pending\" | \"approved\" | \"rejected\" | \"completed\"\n\nexport interface Quotation {\n  id: string\n  customer: Customer\n  products: ProductSelection\n  discount: number\n  totalAmount: number\n  finalAmount: number\n  createdAt: string\n  dealerId: string\n  status?: QuotationStatus\n}\n\ninterface QuotationContextType {\n  currentCustomer: Customer | null\n  currentProducts: ProductSelection | null\n  quotations: Quotation[]\n  setCurrentCustomer: (customer: Customer) => void\n  setCurrentProducts: (products: ProductSelection) => void\n  saveQuotation: (discount: number, totalAmount: number) => Quotation\n  getQuotations: (dealerId: string) => Quotation[]\n  clearCurrent: () => void\n}\n\nconst QuotationContext = createContext<QuotationContextType | undefined>(undefined)\n\nexport function QuotationProvider({ children }: { children: ReactNode }) {\n  // Load from localStorage on mount\n  const [currentCustomer, setCurrentCustomerState] = useState<Customer | null>(() => {\n    if (typeof window !== \"undefined\") {\n      const stored = localStorage.getItem(\"currentCustomer\")\n      return stored ? JSON.parse(stored) : null\n    }\n    return null\n  })\n  \n  const [currentProducts, setCurrentProductsState] = useState<ProductSelection | null>(() => {\n    if (typeof window !== \"undefined\") {\n      const stored = localStorage.getItem(\"currentProducts\")\n      return stored ? JSON.parse(stored) : null\n    }\n    return null\n  })\n  \n  const [quotations, setQuotations] = useState<Quotation[]>([])\n\n  // Persist to localStorage when state changes\n  useEffect(() => {\n    if (currentCustomer) {\n      localStorage.setItem(\"currentCustomer\", JSON.stringify(currentCustomer))\n    } else {\n      localStorage.removeItem(\"currentCustomer\")\n    }\n  }, [currentCustomer])\n\n  useEffect(() => {\n    if (currentProducts) {\n      localStorage.setItem(\"currentProducts\", JSON.stringify(currentProducts))\n    } else {\n      localStorage.removeItem(\"currentProducts\")\n    }\n  }, [currentProducts])\n\n  const setCurrentCustomer = (customer: Customer) => {\n    setCurrentCustomerState(customer)\n  }\n\n  const setCurrentProducts = (products: ProductSelection) => {\n    setCurrentProductsState(products)\n  }\n\n  const saveQuotation = (discount: number, totalAmount: number): Quotation => {\n    const dealerId = JSON.parse(localStorage.getItem(\"dealer\") || \"{}\").id || \"unknown\"\n    const finalAmount = totalAmount - (totalAmount * discount) / 100\n\n    const quotation: Quotation = {\n      id: `QT-${Date.now()}`,\n      customer: currentCustomer!,\n      products: currentProducts!,\n      discount,\n      totalAmount,\n      finalAmount,\n      createdAt: new Date().toISOString(),\n      dealerId,\n      status: \"pending\",\n    }\n\n    const existing = JSON.parse(localStorage.getItem(\"quotations\") || \"[]\")\n    existing.push(quotation)\n    localStorage.setItem(\"quotations\", JSON.stringify(existing))\n    setQuotations(existing)\n\n    return quotation\n  }\n\n  const getQuotations = (dealerId: string): Quotation[] => {\n    const all = JSON.parse(localStorage.getItem(\"quotations\") || \"[]\")\n    return all.filter((q: Quotation) => q.dealerId === dealerId)\n  }\n\n  const clearCurrent = () => {\n    setCurrentCustomerState(null)\n    setCurrentProductsState(null)\n    localStorage.removeItem(\"currentCustomer\")\n    localStorage.removeItem(\"currentProducts\")\n  }\n\n  return (\n    <QuotationContext.Provider\n      value={{\n        currentCustomer,\n        currentProducts,\n        quotations,\n        setCurrentCustomer,\n        setCurrentProducts,\n        saveQuotation,\n        getQuotations,\n        clearCurrent,\n      }}\n    >\n      {children}\n    </QuotationContext.Provider>\n  )\n}\n\nexport function useQuotation() {\n  const context = useContext(QuotationContext)\n  if (!context) {\n    throw new Error(\"useQuotation must be used within a QuotationProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AA4EA,MAAM,iCAAmB,IAAA,8KAAa,EAAmC;AAElE,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;;IACrE,kCAAkC;IAClC,MAAM,CAAC,iBAAiB,wBAAwB,GAAG,IAAA,yKAAQ;sCAAkB;YAC3E,wCAAmC;gBACjC,MAAM,SAAS,aAAa,OAAO,CAAC;gBACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU;YACvC;;;QAEF;;IAEA,MAAM,CAAC,iBAAiB,wBAAwB,GAAG,IAAA,yKAAQ;sCAA0B;YACnF,wCAAmC;gBACjC,MAAM,SAAS,aAAa,OAAO,CAAC;gBACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU;YACvC;;;QAEF;;IAEA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAc,EAAE;IAE5D,6CAA6C;IAC7C,IAAA,0KAAS;uCAAC;YACR,IAAI,iBAAiB;gBACnB,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;YACzD,OAAO;gBACL,aAAa,UAAU,CAAC;YAC1B;QACF;sCAAG;QAAC;KAAgB;IAEpB,IAAA,0KAAS;uCAAC;YACR,IAAI,iBAAiB;gBACnB,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;YACzD,OAAO;gBACL,aAAa,UAAU,CAAC;YAC1B;QACF;sCAAG;QAAC;KAAgB;IAEpB,MAAM,qBAAqB,CAAC;QAC1B,wBAAwB;IAC1B;IAEA,MAAM,qBAAqB,CAAC;QAC1B,wBAAwB;IAC1B;IAEA,MAAM,gBAAgB,CAAC,UAAkB;QACvC,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,aAAa,MAAM,EAAE,IAAI;QAC1E,MAAM,cAAc,cAAc,AAAC,cAAc,WAAY;QAE7D,MAAM,YAAuB;YAC3B,IAAI,CAAC,GAAG,EAAE,KAAK,GAAG,IAAI;YACtB,UAAU;YACV,UAAU;YACV;YACA;YACA;YACA,WAAW,IAAI,OAAO,WAAW;YACjC;YACA,QAAQ;QACV;QAEA,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,iBAAiB;QAClE,SAAS,IAAI,CAAC;QACd,aAAa,OAAO,CAAC,cAAc,KAAK,SAAS,CAAC;QAClD,cAAc;QAEd,OAAO;IACT;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,MAAM,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,iBAAiB;QAC7D,OAAO,IAAI,MAAM,CAAC,CAAC,IAAiB,EAAE,QAAQ,KAAK;IACrD;IAEA,MAAM,eAAe;QACnB,wBAAwB;QACxB,wBAAwB;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;IAEA,qBACE,6LAAC,iBAAiB,QAAQ;QACxB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAjGgB;KAAA;AAmGT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}